{"ast":null,"code":"var _jsxFileName = \"E:\\\\todo-app\\\\client\\\\src\\\\components\\\\TodoDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport InAppNotifications from './InAppNotifications';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PRIORITIES = ['Low', 'Medium', 'High'];\nconst STATUSES = ['In Progress', 'Completed', 'Timed Out'];\nexport default function TodoDashboard({\n  user,\n  onLogout\n}) {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [form, setForm] = useState({\n    title: '',\n    description: '',\n    dueDate: '',\n    priority: 'Low',\n    status: 'In Progress',\n    collaborators: '' // comma-separated emails\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [error, setError] = useState('');\n  const [showCreate, setShowCreate] = useState(false); // NEW STATE\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const socketRef = useRef(null);\n\n  // Fetch tasks\n  const fetchTasks = () => {\n    fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/tasks`, {\n      credentials: 'include'\n    }).then(res => res.json()).then(setTasks);\n  };\n  useEffect(() => {\n    fetchTasks();\n    // Setup socket.io\n    socketRef.current = io(process.env.REACT_APP_API_URL || 'http://localhost:5000', {\n      withCredentials: true\n    });\n    socketRef.current.emit('join', user._id);\n    socketRef.current.on('task-updated', () => {\n      fetchTasks();\n    });\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, [user._id]);\n\n  // Handle form input\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Create or update task\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    const collaborators = form.collaborators.split(',').map(email => email.trim()).filter(Boolean);\n    let collaboratorIds = [];\n    if (collaborators.length) {\n      // Fetch user IDs for emails\n      const res = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/users/by-emails`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          emails: collaborators\n        })\n      });\n      const data = await res.json();\n      if (Array.isArray(data)) collaboratorIds = data.map(u => u._id);\n    }\n    const payload = {\n      ...form,\n      collaborators: collaboratorIds\n    };\n    const url = `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/tasks${editingId ? `/${editingId}` : ''}`;\n    const method = editingId ? 'PUT' : 'POST';\n    const res = await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify(payload)\n    });\n    if (!res.ok) {\n      setError('Failed to save task');\n      return;\n    }\n    setForm({\n      title: '',\n      description: '',\n      dueDate: '',\n      priority: 'Low',\n      status: 'In Progress',\n      collaborators: ''\n    });\n    setEditingId(null);\n    setShowCreate(false); // HIDE FORM AFTER ADD/UPDATE\n    // Notify collaborators in real-time\n    const updatedTask = await res.json();\n    socketRef.current.emit('task-updated', updatedTask);\n    fetchTasks();\n  };\n\n  // Edit task\n  const handleEdit = task => {\n    setEditingId(task._id);\n    setForm({\n      title: task.title,\n      description: task.description,\n      dueDate: task.dueDate ? task.dueDate.slice(0, 10) : '',\n      priority: task.priority,\n      status: task.status,\n      collaborators: (task.collaborators || []).map(u => u.email).join(', ')\n    });\n  };\n\n  // Delete task\n  const handleDelete = async id => {\n    await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/tasks/${id}`, {\n      method: 'DELETE',\n      credentials: 'include'\n    });\n    socketRef.current.emit('task-updated', {\n      owner: user._id,\n      collaborators: []\n    });\n    setTasks(tasks.filter(t => t._id !== id));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(InAppNotifications, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-8 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed top-4 right-4 z-50 flex flex-col items-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-12 h-12 rounded-full bg-calm3 text-calm5 font-bold text-xl flex items-center justify-center shadow hover:bg-calm2 focus:outline-none border-2 border-calm5\",\n          onClick: () => setShowProfileMenu(v => !v),\n          style: {\n            transition: 'background 0.2s'\n          },\n          \"aria-label\": \"User menu\",\n          type: \"button\",\n          children: user.name ? user.name[0].toUpperCase() : user.email[0].toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), showProfileMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 bg-white rounded-lg shadow-lg p-4 z-50 min-w-[200px] border border-calm3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-calm5\",\n              children: \"Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-calm5 hover:text-red-500 text-lg font-bold\",\n              onClick: () => setShowProfileMenu(false),\n              \"aria-label\": \"Close\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this), \" \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this), \" \", user.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onLogout,\n            className: \"w-full py-1 rounded bg-calm2 text-calm5 font-semibold hover:bg-calm3 transition\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-calm5 text-center\",\n          children: user.name ? `${user.name.split(' ')[0]}'s To-Do Dashboard` : 'To-Do Dashboard'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), !showCreate && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"block mx-auto mb-4 px-6 py-2 rounded bg-calm3 text-calm5 font-semibold hover:bg-calm2 transition\",\n        onClick: () => setShowCreate(true),\n        children: \"Create Mission\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), showCreate && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"bg-white/90 rounded-xl shadow p-4 space-y-4 mx-auto relative\",\n        style: {\n          maxWidth: '700px',\n          minWidth: '0',\n          marginLeft: '2.5cm',\n          marginRight: '2.5cm'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"absolute top-2 right-2 text-calm5 hover:text-red-500 text-xl font-bold focus:outline-none\",\n          onClick: () => {\n            setShowCreate(false);\n            setEditingId(null);\n          },\n          \"aria-label\": \"Close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-calm5 mb-2\",\n          children: \"Create Mission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"title\",\n            value: form.title,\n            onChange: handleChange,\n            required: true,\n            placeholder: \"Task Name\",\n            className: \"p-2 rounded border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"dueDate\",\n            value: form.dueDate,\n            onChange: handleChange,\n            type: \"date\",\n            className: \"p-2 rounded border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"collaborators\",\n            value: form.collaborators,\n            onChange: handleChange,\n            placeholder: \"Share with (comma emails)\",\n            className: \"p-2 rounded border col-span-1 md:col-span-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          value: form.description,\n          onChange: handleChange,\n          placeholder: \"Description\",\n          className: \"p-2 rounded border w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"priority\",\n            value: form.priority,\n            onChange: handleChange,\n            className: \"p-2 rounded border\",\n            children: PRIORITIES.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: p\n            }, p, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 38\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"status\",\n            value: form.status,\n            onChange: handleChange,\n            className: \"p-2 rounded border\",\n            children: STATUSES.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: s\n            }, s, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 36\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full py-2 rounded bg-calm3 text-calm5 font-semibold hover:bg-calm2 transition\",\n          children: editingId ? 'Update Task' : 'Add Task'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 mx-auto\",\n        style: {\n          maxWidth: '700px',\n          minWidth: '0',\n          marginLeft: '2.5cm',\n          marginRight: '2.5cm'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-calm5 mb-2\",\n          children: \"List of My Missions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), tasks.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-calm5 text-center\",\n          children: \"No tasks yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 34\n        }, this), tasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold text-calm5\",\n              children: task.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-calm5 text-sm\",\n              children: [\"Due: \", task.dueDate ? new Date(task.dueDate).toLocaleDateString() : 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-calm5 text-xs\",\n              children: task.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs mt-1\",\n              children: [\"Priority: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: task.priority\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 57\n              }, this), \" | Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: task.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 122\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs mt-1\",\n              children: [\"Collaborators: \", (() => {\n                if (task.owner && task.owner.email === user.email) {\n                  // If current user is owner, show all collaborators (except self)\n                  return (task.collaborators || []).filter(u => u.email !== user.email).map(u => u.email).join(', ') || 'None';\n                } else if (task.owner && task.owner.email) {\n                  // If current user is collaborator, show only owner's email\n                  return task.owner.email;\n                } else {\n                  return 'None';\n                }\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(task),\n              className: \"px-3 py-1 rounded bg-calm2 text-calm5 hover:bg-calm3\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(task._id),\n              className: \"px-3 py-1 rounded bg-red-200 text-red-700 hover:bg-red-300\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, task._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TodoDashboard, \"b2w78YmoB3y7VvRfY80rCmOMuCc=\");\n_c = TodoDashboard;\nvar _c;\n$RefreshReg$(_c, \"TodoDashboard\");","map":{"version":3,"names":["React","useEffect","useState","useRef","io","InAppNotifications","jsxDEV","_jsxDEV","Fragment","_Fragment","PRIORITIES","STATUSES","TodoDashboard","user","onLogout","_s","tasks","setTasks","form","setForm","title","description","dueDate","priority","status","collaborators","editingId","setEditingId","error","setError","showCreate","setShowCreate","showProfileMenu","setShowProfileMenu","socketRef","fetchTasks","fetch","process","env","REACT_APP_API_URL","credentials","then","res","json","current","withCredentials","emit","_id","on","disconnect","handleChange","e","target","name","value","handleSubmit","preventDefault","split","map","email","trim","filter","Boolean","collaboratorIds","length","method","headers","body","JSON","stringify","emails","data","Array","isArray","u","payload","url","ok","updatedTask","handleEdit","task","slice","join","handleDelete","id","owner","t","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","v","style","transition","type","toUpperCase","onSubmit","maxWidth","minWidth","marginLeft","marginRight","onChange","required","placeholder","p","s","Date","toLocaleDateString","_c","$RefreshReg$"],"sources":["E:/todo-app/client/src/components/TodoDashboard.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport InAppNotifications from './InAppNotifications';\r\n\r\nconst PRIORITIES = ['Low', 'Medium', 'High'];\r\nconst STATUSES = ['In Progress', 'Completed', 'Timed Out'];\r\n\r\nexport default function TodoDashboard({ user, onLogout }) {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    dueDate: '',\r\n    priority: 'Low',\r\n    status: 'In Progress',\r\n    collaborators: '', // comma-separated emails\r\n  });\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [showCreate, setShowCreate] = useState(false); // NEW STATE\r\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\r\n  const socketRef = useRef(null);\r\n\r\n  // Fetch tasks\r\n  const fetchTasks = () => {\r\n    fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/tasks`, {\r\n      credentials: 'include',\r\n    })\r\n      .then(res => res.json())\r\n      .then(setTasks);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n    // Setup socket.io\r\n    socketRef.current = io(process.env.REACT_APP_API_URL || 'http://localhost:5000', {\r\n      withCredentials: true\r\n    });\r\n    socketRef.current.emit('join', user._id);\r\n    socketRef.current.on('task-updated', () => {\r\n      fetchTasks();\r\n    });\r\n    return () => {\r\n      socketRef.current.disconnect();\r\n    };\r\n  }, [user._id]);\r\n\r\n  // Handle form input\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Create or update task\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setError('');\r\n    const collaborators = form.collaborators\r\n      .split(',')\r\n      .map(email => email.trim())\r\n      .filter(Boolean);\r\n    let collaboratorIds = [];\r\n    if (collaborators.length) {\r\n      // Fetch user IDs for emails\r\n      const res = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/users/by-emails`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ emails: collaborators })\r\n      });\r\n      const data = await res.json();\r\n      if (Array.isArray(data)) collaboratorIds = data.map(u => u._id);\r\n    }\r\n    const payload = {\r\n      ...form,\r\n      collaborators: collaboratorIds,\r\n    };\r\n    const url = `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/tasks${editingId ? `/${editingId}` : ''}`;\r\n    const method = editingId ? 'PUT' : 'POST';\r\n    const res = await fetch(url, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n      body: JSON.stringify(payload)\r\n    });\r\n    if (!res.ok) {\r\n      setError('Failed to save task');\r\n      return;\r\n    }\r\n    setForm({ title: '', description: '', dueDate: '', priority: 'Low', status: 'In Progress', collaborators: '' });\r\n    setEditingId(null);\r\n    setShowCreate(false); // HIDE FORM AFTER ADD/UPDATE\r\n    // Notify collaborators in real-time\r\n    const updatedTask = await res.json();\r\n    socketRef.current.emit('task-updated', updatedTask);\r\n    fetchTasks();\r\n  };\r\n\r\n  // Edit task\r\n  const handleEdit = task => {\r\n    setEditingId(task._id);\r\n    setForm({\r\n      title: task.title,\r\n      description: task.description,\r\n      dueDate: task.dueDate ? task.dueDate.slice(0, 10) : '',\r\n      priority: task.priority,\r\n      status: task.status,\r\n      collaborators: (task.collaborators || []).map(u => u.email).join(', '),\r\n    });\r\n  };\r\n\r\n  // Delete task\r\n  const handleDelete = async id => {\r\n    await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/tasks/${id}`, {\r\n      method: 'DELETE',\r\n      credentials: 'include',\r\n    });\r\n    socketRef.current.emit('task-updated', { owner: user._id, collaborators: [] });\r\n    setTasks(tasks.filter(t => t._id !== id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <InAppNotifications user={user} />\r\n      <div className=\"space-y-8 relative\">\r\n        {/* User Logo in Top Right */}\r\n        <div className=\"fixed top-4 right-4 z-50 flex flex-col items-end\">\r\n          <button\r\n            className=\"w-12 h-12 rounded-full bg-calm3 text-calm5 font-bold text-xl flex items-center justify-center shadow hover:bg-calm2 focus:outline-none border-2 border-calm5\"\r\n            onClick={() => setShowProfileMenu(v => !v)}\r\n            style={{ transition: 'background 0.2s' }}\r\n            aria-label=\"User menu\"\r\n            type=\"button\"\r\n          >\r\n            {user.name ? user.name[0].toUpperCase() : user.email[0].toUpperCase()}\r\n          </button>\r\n          {showProfileMenu && (\r\n            <div className=\"mt-2 bg-white rounded-lg shadow-lg p-4 z-50 min-w-[200px] border border-calm3\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <span className=\"font-bold text-calm5\">Profile</span>\r\n                <button className=\"text-calm5 hover:text-red-500 text-lg font-bold\" onClick={() => setShowProfileMenu(false)} aria-label=\"Close\">&times;</button>\r\n              </div>\r\n              <div className=\"mb-1\"><span className=\"font-semibold\">Name:</span> {user.name}</div>\r\n              <div className=\"mb-3\"><span className=\"font-semibold\">Email:</span> {user.email}</div>\r\n              <button onClick={onLogout} className=\"w-full py-1 rounded bg-calm2 text-calm5 font-semibold hover:bg-calm3 transition\">Logout</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* Dashboard Title */}\r\n        <div className=\"flex flex-col items-center justify-center\">\r\n          <h2 className=\"text-2xl font-bold text-calm5 text-center\">\r\n            {user.name ? `${user.name.split(' ')[0]}'s To-Do Dashboard` : 'To-Do Dashboard'}\r\n          </h2>\r\n        </div>\r\n        {!showCreate && (\r\n          <button\r\n            className=\"block mx-auto mb-4 px-6 py-2 rounded bg-calm3 text-calm5 font-semibold hover:bg-calm2 transition\"\r\n            onClick={() => setShowCreate(true)}\r\n          >\r\n            Create Mission\r\n          </button>\r\n        )}\r\n        {showCreate && (\r\n          <form onSubmit={handleSubmit} className=\"bg-white/90 rounded-xl shadow p-4 space-y-4 mx-auto relative\" style={{maxWidth: '700px', minWidth: '0', marginLeft: '2.5cm', marginRight: '2.5cm'}}>\r\n            <button\r\n              type=\"button\"\r\n              className=\"absolute top-2 right-2 text-calm5 hover:text-red-500 text-xl font-bold focus:outline-none\"\r\n              onClick={() => { setShowCreate(false); setEditingId(null); }}\r\n              aria-label=\"Close\"\r\n            >\r\n              &times;\r\n            </button>\r\n            <h3 className=\"text-lg font-bold text-calm5 mb-2\">Create Mission</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <input name=\"title\" value={form.title} onChange={handleChange} required placeholder=\"Task Name\" className=\"p-2 rounded border\" />\r\n              <input name=\"dueDate\" value={form.dueDate} onChange={handleChange} type=\"date\" className=\"p-2 rounded border\" />\r\n              <input name=\"collaborators\" value={form.collaborators} onChange={handleChange} placeholder=\"Share with (comma emails)\" className=\"p-2 rounded border col-span-1 md:col-span-2\" />\r\n            </div>\r\n            <textarea name=\"description\" value={form.description} onChange={handleChange} placeholder=\"Description\" className=\"p-2 rounded border w-full\" />\r\n            <div className=\"flex gap-4\">\r\n              <select name=\"priority\" value={form.priority} onChange={handleChange} className=\"p-2 rounded border\">\r\n                {PRIORITIES.map(p => <option key={p}>{p}</option>)}\r\n              </select>\r\n              <select name=\"status\" value={form.status} onChange={handleChange} className=\"p-2 rounded border\">\r\n                {STATUSES.map(s => <option key={s}>{s}</option>)}\r\n              </select>\r\n            </div>\r\n            {error && <div className=\"text-red-500 text-sm\">{error}</div>}\r\n            <button className=\"w-full py-2 rounded bg-calm3 text-calm5 font-semibold hover:bg-calm2 transition\">\r\n              {editingId ? 'Update Task' : 'Add Task'}\r\n            </button>\r\n          </form>\r\n        )}\r\n        <div className=\"space-y-4 mx-auto\" style={{maxWidth: '700px', minWidth: '0', marginLeft: '2.5cm', marginRight: '2.5cm'}}>\r\n          <h3 className=\"text-lg font-bold text-calm5 mb-2\">List of My Missions</h3>\r\n          {tasks.length === 0 && <div className=\"text-calm5 text-center\">No tasks yet.</div>}\r\n          {tasks.map(task => (\r\n            <div key={task._id} className=\"bg-white/80 rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-2\">\r\n              <div>\r\n                <div className=\"font-bold text-calm5\">{task.title}</div>\r\n                <div className=\"text-calm5 text-sm\">Due: {task.dueDate ? new Date(task.dueDate).toLocaleDateString() : 'N/A'}</div>\r\n                <div className=\"text-calm5 text-xs\">{task.description}</div>\r\n                <div className=\"text-xs mt-1\">Priority: <span className=\"font-semibold\">{task.priority}</span> | Status: <span className=\"font-semibold\">{task.status}</span></div>\r\n                <div className=\"text-xs mt-1\">Collaborators: {(() => {\r\n                  if (task.owner && task.owner.email === user.email) {\r\n                    // If current user is owner, show all collaborators (except self)\r\n                    return (task.collaborators || [])\r\n                      .filter(u => u.email !== user.email)\r\n                      .map(u => u.email)\r\n                      .join(', ') || 'None';\r\n                  } else if (task.owner && task.owner.email) {\r\n                    // If current user is collaborator, show only owner's email\r\n                    return task.owner.email;\r\n                  } else {\r\n                    return 'None';\r\n                  }\r\n                })()}</div>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <button onClick={() => handleEdit(task)} className=\"px-3 py-1 rounded bg-calm2 text-calm5 hover:bg-calm3\">Edit</button>\r\n                <button onClick={() => handleDelete(task._id)} className=\"px-3 py-1 rounded bg-red-200 text-red-700 hover:bg-red-300\">Delete</button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}